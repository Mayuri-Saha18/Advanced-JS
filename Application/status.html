<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="./styles/navbar.css">
   <link rel="stylesheet" href="./styles/status.css">
    <title>Document</title>
</head>
<body>
    <div id="navbar">
        <h2>Masai Leave Portal</h2>
     <div>
        <a href="./index.html">
            <h2>Home</h2>
        </a>
        <a href="./dashboard.html">
            <h2>Dasboard</h2>
        </a>
        <a href="./status.html">
            <h2>Status</h2>
        </a>
    </div>
   </div>

    <div>
        <select id="filter">
            <option value="">Select By Designation</option>
            <option value="employee">Employee </option>
            <option value="student">Student</option>
        </select>
        <table>
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Designation</th>
                    <th>From</th>
                    <th>To</th>
                    <th>Overseer</th>
                    <th>Status</th>
                    
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
    
</body>

</html>
<script>
    let filterByDesignation=JSON.parse(localStorage.getItem("reject-list"))||[];
// let grantLs=JSON.parse(localStorage.getItem("approve-details"))||[];

Dashbord(filterByDesignation)
function Dashbord(filterByDesignation){

    document.querySelector("tbody").innerHTML=""
    filterByDesignation.forEach(function (elem,index){
        let row = document.createElement("tr");

        let col1 = document.createElement("td");
        col1.innerText = elem.uniqueId;

        let col2 = document.createElement("td");
        col2.innerText = elem.name;

        let col3 = document.createElement("td");
        col3.innerText = elem.reason;

        let col4 = document.createElement("td");
        col4.innerText = elem.designation;

        let col5 = document.createElement("td");
        col5.innerText = elem.startDate;

        let col6 = document.createElement("td");
        col6.innerText = elem.endDate;

        let col7 = document.createElement("td");
        col7.innerText = elem.overseer;
        let col8 = document.createElement("td");
        col8.innerText = elem.innerText;

        row.append(col1,col2,col3,col4,col5,col6,col7,col8);
        document.querySelector("tbody").append(row)
        
    })
    
}

document.querySelector("#filter").addEventListener("change",FilterDes);

function FilterDes(){
    let select = document.querySelector("#filter").value;
    if(select == "employee" || select == "student") {
        let filt = filterByDesignation.filter(function (elem,index) {
            return elem.designation == select;
        });
        Dashbord(filt);
    } else {
        Dashbord(filterByDesignation);
    }
}


</script>